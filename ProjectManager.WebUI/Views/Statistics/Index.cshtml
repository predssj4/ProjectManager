@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_PanelLayout.cshtml";
}

<div class="row">
    <div class="col-lg-12">
        <h1 class="page-header">Statistics</h1>
    </div>
</div>

<div class="row">
    <div class="col-lg-12">
        <div class="panel panel-default">
            <div class="panel-heading">
                Tasks statistics
            </div>
            <div class="panel-body">
                <div class="flot-chart">
                    <div class="flot-chart-content" id="flot-pie-chart-tasks"></div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {

        var data = [{
            label: "Tasks",
            data: @ViewBag.Tasks
            }, {
                label: "Finished tasks",
                data: @ViewBag.FinishedTasks
                }];

        var plotObj = $.plot($("#flot-pie-chart-tasks"), data, {
            series: {
                pie: {
                    show: true
                }
            },
            grid: {
                hoverable: true
            },
            tooltip: true,
            tooltipOpts: {
                content: "%p.0%, %s", // show percentages, rounding to 2 decimal places
                shifts: {
                    x: 20,
                    y: 0
                },
                defaultTheme: false
            }
        });
    });
</script>